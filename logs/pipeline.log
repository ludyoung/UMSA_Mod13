Imagen jer·rquica guardada en: Images\FEATURES\resumen_features_hierarchy.png
PELINE ==========================
[2025-12-02T19:23:22.753721Z] ============== Tablas cargadas exitosamente: {'customers': 99441, 'geolocation': 1000163, 'order_items': 112650, 'payments': 103886, 'reviews': 99224, 'orders': 99441, 'products': 32951, 'sellers': 3095, 'category_translation': 71}
[2025-12-02T19:23:22.753721Z] ======================================= LIMPIEZA =================================
[2025-12-02T19:23:22.753721Z] === INICIO Limpieza de tablas ===
[2025-12-02T19:23:22.836905Z] customers: columnas de texto normalizadas -> ['customer_id', 'customer_unique_id', 'customer_city', 'customer_state']
[2025-12-02T19:23:23.216127Z] geolocation: columnas de texto normalizadas -> ['geolocation_city', 'geolocation_state']
[2025-12-02T19:23:23.379477Z] order_items: columnas de texto normalizadas -> ['order_id', 'product_id', 'seller_id', 'shipping_limit_date']
[2025-12-02T19:23:23.409713Z] order_items: columnas de fecha convertidas -> ['shipping_limit_date']
[2025-12-02T19:23:23.466060Z] payments: columnas de texto normalizadas -> ['order_id', 'payment_type']
[2025-12-02T19:23:23.612845Z] reviews: columnas de texto normalizadas -> ['review_id', 'order_id', 'review_comment_title', 'review_comment_message', 'review_creation_date', 'review_answer_timestamp']
[2025-12-02T19:23:23.647122Z] reviews: columnas de fecha convertidas -> ['review_creation_date', 'review_answer_timestamp']
[2025-12-02T19:23:23.830026Z] orders: columnas de texto normalizadas -> ['order_id', 'customer_id', 'order_status', 'order_purchase_timestamp', 'order_approved_at', 'order_delivered_carrier_date', 'order_delivered_customer_date', 'order_estimated_delivery_date']
[2025-12-02T19:23:23.907069Z] orders: columnas de fecha convertidas -> ['order_purchase_timestamp', 'order_delivered_carrier_date', 'order_delivered_customer_date', 'order_estimated_delivery_date']
[2025-12-02T19:23:24.077365Z] products: columnas de texto normalizadas -> ['product_id', 'product_category_name']
[2025-12-02T19:23:24.086365Z] sellers: columnas de texto normalizadas -> ['seller_id', 'seller_city', 'seller_state']
[2025-12-02T19:23:24.088379Z] category_translation: columnas de texto normalizadas -> ['product_category_name', 'product_category_name_english']
[2025-12-02T19:23:24.089367Z] === FIN Limpieza de tablas ===
[2025-12-02T19:23:24.089367Z] ======================================= FEATURE ENGINEERING ======================
[2025-12-02T19:23:24.089367Z] === INICIO Feature Engineering Avanzado ===
[2025-12-02T19:23:24.090365Z] Cargando tablas base...
[2025-12-02T19:23:24.674697Z] Procesando variables temporales y retrasos...
[2025-12-02T19:23:24.932284Z] Generando features por producto...
[2025-12-02T19:23:51.293182Z] Generando features del vendedor...
[2025-12-02T19:23:53.827447Z] Generando features de pagos...
[2025-12-02T19:23:54.467235Z] Generando features por cliente y reviews...
[2025-12-02T19:24:09.546679Z] Shape total combinando todas las tablas: filas=99441, features totales=108
[2025-12-02T19:24:09.548956Z] === FIN Feature Engineering Avanzado ===
[2025-12-02T19:24:09.562459Z] ======================================= LIMPIEZA FEATURES ========================
[2025-12-02T19:24:09.563115Z] === INICIO Limpieza de features ===
[2025-12-02T19:24:09.720181Z] Valores nulos reemplazados correctamente
[2025-12-02T19:24:12.780549Z] Boxplot guardado en: Images\DATAFRAME\boxplot_variables_numericas.png
[2025-12-02T19:24:13.821893Z] Heatmap de correlaci√≥n guardado en: Images\DATAFRAME\heatmap_correlacion.png
[2025-12-02T19:24:13.822890Z] === FIN Limpieza de features ===
[2025-12-02T19:24:13.824887Z] ======================================= MASTER TABLE =============================
[2025-12-02T19:24:13.866903Z] ======================================= EXPORTACION DE MASTER TABLE ==============
[2025-12-02T19:24:15.473186Z] Master table creada con 99441 filas y 39 columnas
[2025-12-02T19:24:15.475194Z] ======================================= PREPROCESO MASTER TABLE ==================
[2025-12-02T19:24:16.549901Z] ======================================= CALCULO DE METRICAS ======================
[2025-12-02T19:24:16.549901Z] ===== C√ÅLCULO M√âTRICAS =====
[2025-12-02T19:24:16.549901Z] === INICIO C√°lculo de m√©tricas de satisfacci√≥n ===
[2025-12-02T19:24:16.551905Z] Validaciones iniciales: OK
[2025-12-02T19:24:16.551905Z] Checkpoint 1: Validaciones completas, iniciando c√°lculos...
[2025-12-02T19:24:16.865414Z] C√°lculo global: total_clientes=99441, mean=4.0938, std=1.3434
[2025-12-02T19:24:16.866400Z] Checkpoint 2: C√°lculos globales completados.
[2025-12-02T19:24:17.171494Z] Clasificaci√≥n de clientes aplicada correctamente.
[2025-12-02T19:24:17.173518Z] Checkpoint 3: Clasificaci√≥n completada.
[2025-12-02T19:24:17.479417Z] CSAT=0.7723, NPS=62.70
[2025-12-02T19:24:17.479417Z] Checkpoint 4: M√©tricas CSAT & NPS completadas.
[2025-12-02T19:24:17.784697Z] C√°lculo de correlaciones completado.
[2025-12-02T19:24:17.785681Z] Checkpoint 5: Todas las m√©tricas calculadas correctamente.
[2025-12-02T19:24:18.094223Z] === FIN C√°lculo de m√©tricas de satisfacci√≥n ===
[2025-12-02T19:24:18.095200Z] ===== GR√ÅFICO M√âTRICAS =====
[2025-12-02T19:24:18.096208Z] === INICIO Gr√°fico de m√©tricas de satisfacci√≥n ===
[2025-12-02T19:24:18.303714Z] Imagen guardada en ./Images/RESULTADOS/metricas_barras.png
[2025-12-02T19:24:18.304715Z] === FIN Gr√°fico de m√©tricas de satisfacci√≥n ===
[2025-12-02T19:24:18.305714Z] ======================================= ENTRENAMIENTO DEL MODELO =================
[2025-12-02T19:24:18.306729Z] Entrenando modelo de predicci√≥n de satisfacci√≥n...
2025-12-02 15:24:18 - INFO - === INICIO ENTRENAMIENTO XGBOOST ===
2025-12-02 15:24:18 - INFO - Cargado master_table. Shape: (99441, 39)
2025-12-02 15:24:18 - INFO - ---------------- SPLIT TEMPORAL ----------------
2025-12-02 15:24:18 - INFO - Train: (48883, 39), Test: (35195, 39), Predicci√≥n futura: (15363, 39)
2025-12-02 15:24:18 - INFO - Grid Search XGB: {'model__n_estimators': [400, 600], 'model__max_depth': [4, 6, 8], 'model__learning_rate': [0.05, 0.1], 'model__subsample': [0.8, 1.0], 'model__colsample_bytree': [0.8, 1.0]}
2025-12-02 15:24:54 - INFO - Mejores hiperpar√°metros XGB: {'model__colsample_bytree': 0.8, 'model__learning_rate': 0.1, 'model__max_depth': 4, 'model__n_estimators': 400, 'model__subsample': 1.0}
2025-12-02 15:24:54 - INFO - CV MSE=0.0000, CV R2=1.0000
2025-12-02 15:24:54 - INFO - Gr√°fico de m√©tricas guardado en: Images\RESULTADOS\xgb_metrics.png
2025-12-02 15:24:54 - INFO - TEST MSE=0.0000
2025-12-02 15:24:54 - INFO - TEST R2=1.0000
2025-12-02 15:24:54 - INFO - Comparaci√≥n futura generada para 07‚Äì08/2018
2025-12-02 15:24:54 - INFO - Modelo XGBoost guardado en: ./output/best_model_XGBOOST.pkl
2025-12-02 15:24:54 - INFO - === FIN PIPELINE XGBOOST ===
[2025-12-02T19:24:54.343562Z] === PIPELINE FINALIZADO ===
